<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESCONDITE_INGLES_REGULAR</title>
  <style>
    canvas
    {
        background: grey;
        border: 2px solid black;
        display: block;
        margin: 0 auto;
    }

    #b1{
        display: block;
        margin: 10px auto;
        padding: 10px 20px;
        font-size: 16px;
    }

    .button-container {
        display: flex;
        justify-content: space-evenly;
        margin-top: -8px;
    }

    .space-button{
        margin-left: -300px;
        margin-right: -300px;
    }

    .nombre-Mario {
        background-color: red;
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
    }

    .nombre-Luigi {
        background-color: green;
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
    }

    .nombre-Sonic {
        background-color: blue;
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
    }

    .button-Mario {
        padding: 10px 15px;
        border: 2px solid red;
        cursor: pointer;
        float: left 5px;
        transition: color 0.5s ease;
    }

    .button-Mario:hover {
        background-color: red;
        color: white;
    }

    .button-Luigi {
        padding: 10px 15px;
        border: 2px solid green;
        cursor: pointer;
        float: left 5px;
        transition: color 0.5s ease;
    }

    .button-Luigi:hover {
        background-color: green;
        color: white;
    }

    .button-Sonic {
        padding: 10px 15px;
        border: 2px solid blue;
        cursor: pointer;
        float: left 5px;
        transition: color 0.5s ease;
    }

    .button-Sonic:hover {
        background-color: blue;
        color: white;
    }

    .start_button{
        padding: 10px 15px;
        border: 2px solid blue;
        cursor: pointer;
        float: left 5px;
        transition: color 0.5s ease;
    }

    .start_div{
        display: flex;
        justify-content: center;
    }

    h3{
        float: left;
    }

</style>
</head>
<body>

<canvas id="gameCanvas" width="700" height="670"></canvas>

<div class="button-container">
    
<div>
    <h4 class="nombre-Mario">Mario</h4>
    <button class="button-Mario" onclick="setAccion('jugador1', 'andar')">Avanzar!!</button>
    <button class="button-Mario" onclick="setAccion('jugador1', 'parar')">Parar!!</button>
    <p id="estado-jugador1"></p>
</div>

<div class="space-button">
    <h4 class="nombre-Luigi">Luigi</h4>
    <button class="button-Luigi" onclick="setAccion('jugador2', 'andar')">Avanzar!!</button>
    <button class="button-Luigi" onclick="setAccion('jugador2', 'parar')">Parar!!</button>
    <p id="estado-jugador2"></p>
</div>

<div>
    <h4 class="nombre-Sonic">Sonic</h4>
    <button class="button-Sonic" onclick="setAccion('jugador3', 'andar')">Avanzar!!</button>
    <button class="button-Sonic" onclick="setAccion('jugador3', 'parar')">Parar!!</button>
    <p id="estado-jugador3"></p>
</div>

</div>


<div class="start_div">
<button class="start_button" onclick="jugarTurno()">üé≤ Jugar turno</button>
</div>

<div class="start_div">
<h3>Resultados:</h3>
<pre id="resultados"></pre>
</div>

  <script>

        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        let cuadrado1 = {
            x: 30,
            y: 550,
            w: 30,
            h: 50,
        };

        let cuadrado2 = {
            x: 30,
            y: 490,
            w: 30,
            h: 50,
        };

        function pintarCuadrado1() 
        {
            ctx.fillStyle = 'black';
            ctx.fillRect(cuadrado1.x,cuadrado1.y,cuadrado1.w,cuadrado1.h);

            ctx.fillStyle = 'black';
            ctx.fillRect(cuadrado1.x,cuadrado1.y - 120,cuadrado1.w,cuadrado1.h);

            ctx.fillStyle = 'black';
            ctx.fillRect(cuadrado1.x,cuadrado1.y - 240,cuadrado1.w,cuadrado1.h);

            ctx.fillStyle = 'black';
            ctx.fillRect(cuadrado1.x,cuadrado1.y - 360,cuadrado1.w,cuadrado1.h);

            ctx.fillStyle = 'black';
            ctx.fillRect(cuadrado1.x,cuadrado1.y - 480,cuadrado1.w,cuadrado1.h);
        };

        function pintarCuadrado2() 
        {
            ctx.fillStyle = 'white';
            ctx.fillRect(cuadrado2.x,cuadrado2.y,cuadrado2.w,cuadrado2.h);

            ctx.fillStyle = 'white';
            ctx.fillRect(cuadrado2.x,cuadrado2.y - 120,cuadrado2.w,cuadrado2.h);

            ctx.fillStyle = 'white';
            ctx.fillRect(cuadrado2.x,cuadrado2.y - 240,cuadrado2.w,cuadrado2.h);

            ctx.fillStyle = 'white';
            ctx.fillRect(cuadrado2.x,cuadrado2.y - 360,cuadrado2.w,cuadrado2.h);

            ctx.fillStyle = 'white';
            ctx.fillRect(cuadrado2.x,cuadrado2.y - 480,cuadrado2.w,cuadrado2.h);
        };

        pintarCuadrado1();
        pintarCuadrado2();


    let jugador1 = {
      x: 150, y: 600, w: 50, h: 65,
      imagen: new Image(),
      posicion: 0,
      corazon: false,
      accion: "parar"
    };

    let jugador2 = {
      x: 300, y: 600, w: 50, h: 65,
      imagen: new Image(),
      posicion: 0,
      corazon: false,
      accion: "parar"
    };

    let jugador3 = {
      x: 450, y: 600, w: 50, h: 65,
      imagen: new Image(),
      posicion: 0,
      corazon: false,
      accion: "parar"
    };

    jugador1.imagen.src = "imagenes/Jugador1.png";
    jugador2.imagen.src = "imagenes/Jugador2.png";
    jugador3.imagen.src = "imagenes/Jugador3.png";

    function pintarJugadores() {
            
            ctx.drawImage(jugador1.imagen,jugador1.x,jugador1.y,jugador1.w,jugador1.h);
            ctx.drawImage(jugador2.imagen,jugador2.x,jugador2.y,jugador2.w,jugador2.h);
            ctx.drawImage(jugador3.imagen,jugador3.x,jugador3.y,jugador3.w,jugador3.h);


            requestAnimationFrame(pintarJugadores);
        };

        pintarJugadores();

    let turno = 1;

    function setAccion(nombre, accion) {
      if (nombre === "jugador1") {
        jugador1.accion = accion;
        document.getElementById("estado-jugador1").textContent = "Eligi√≥: " + accion;
      }
      if (nombre === "jugador2") {
        jugador2.accion = accion;
        document.getElementById("estado-jugador2").textContent = "Eligi√≥: " + accion;
      }
      if (nombre === "jugador3") {
        jugador3.accion = accion;
        document.getElementById("estado-jugador3").textContent = "Eligi√≥: " + accion;
      }
    }

    function sacarDado() {
      let n = Math.floor(Math.random() * 2); // 0 o 1
      if (n === 0) {
        return "negro";
      } else {
        return "rojo";
      }
    }

    function tirarDado() {
      return Math.floor(Math.random() * 2); // 0 o 1
    }

    function jugarTurno() {
      let resultado = document.getElementById("resultados");
      resultado.textContent += "\n--- TURNO " + turno + " ---\n";

      let dado = sacarDado();
      resultado.textContent += "Dado sacado: " + dado.toUpperCase() + "\n";

      // Procesar jugador 1
      resultado.textContent += procesarJugador(jugador1, "Jugador 1", dado);

      // Procesar jugador 2
      resultado.textContent += procesarJugador(jugador2, "Jugador 2", dado);

      // Procesar jugador 3
      resultado.textContent += procesarJugador(jugador3, "Jugador 3", dado);

      turno = turno + 1;
    }

    function procesarJugador(jugador, nombre, dado) {
      let texto = nombre + " eligi√≥ " + jugador.accion + ", posici√≥n: " + jugador.posicion + ", coraz√≥n: " + jugador.corazon + "\n";

      if (jugador.accion === "parar") {
        if (dado === "rojo" && jugador.corazon === false) {
          jugador.corazon = true;
          texto += nombre + " gana un ‚ù§Ô∏è\n";
        }
      }

      if (jugador.accion === "andar") {
        if (dado === "rojo") {
          if (jugador.corazon === true) {
            jugador.corazon = false;
            texto += nombre + " pierde su ‚ù§Ô∏è\n";
          } else {
            let retroceso = tirarDado() + tirarDado();
            jugador.posicion = jugador.posicion - retroceso;
            if (jugador.posicion < 0) {
              jugador.posicion = 0;
            }
            texto += nombre + " retrocede " + retroceso + " ‚Üí posici√≥n " + jugador.posicion + "\n";
          }
        }

        if (dado === "negro") {
          let avance = tirarDado();
          jugador.posicion = jugador.posicion + avance;
          texto += nombre + " avanza " + avance + " ‚Üí posici√≥n " + jugador.posicion + "\n";
        }
      }

      if (jugador.posicion >= 10) {
        texto += "üéâ ¬°" + nombre + " ha GANADO!\n";
      }

      return texto;
    }
  </script>
</body>
</html>
